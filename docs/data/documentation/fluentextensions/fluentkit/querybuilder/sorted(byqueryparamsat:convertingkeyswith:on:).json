{"abstract":[{"type":"text","text":"Applies sorting to the query builder based on query parameters from the request"}],"kind":"symbol","sections":[],"hierarchy":{"paths":[["doc:\/\/FluentExtensions\/documentation\/FluentExtensions","doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit","doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit\/QueryBuilder"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"sorted"},{"kind":"text","text":"("},{"kind":"externalParam","text":"byQueryParamsAt"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"key"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":" = \"sort\", "},{"text":"convertingKeysWith","kind":"externalParam"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"keyConverter"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"QueryParamFieldKeyConverter","preciseIdentifier":"s:16FluentExtensions27QueryParamFieldKeyConvertera","identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/QueryParamFieldKeyConverter"},{"kind":"text","text":"? = nil, "},{"kind":"externalParam","text":"on"},{"kind":"text","text":" "},{"text":"req","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Request","preciseIdentifier":"s:5Vapor7RequestC","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"Self"}],"languages":["swift"]}]},{"parameters":[{"content":[{"type":"paragraph","inlineContent":[{"text":"The query parameter key to look for sort instructions (defaults to “sort”)","type":"text"}]}],"name":"key"},{"name":"keyConverter","content":[{"type":"paragraph","inlineContent":[{"text":"Optional closure to convert field names from the query parameter to database field names","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"The incoming request containing query parameters"}],"type":"paragraph"}],"name":"req"}],"kind":"parameters"},{"content":[{"text":"Return Value","anchor":"return-value","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Self (QueryBuilder) for method chaining","type":"text"}]}],"kind":"content"},{"content":[{"text":"Discussion","type":"heading","level":2,"anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"This method parses sort parameters from the request’s query string and applies them to the query builder.","type":"text"},{"text":" ","type":"text"},{"text":"The sort format in the query string should be: ","type":"text"},{"type":"codeVoice","code":"?sort=field:direction,field2:direction2"},{"type":"text","text":" "},{"text":"where direction is either ‘asc’ or ‘desc’. If direction is omitted, ‘asc’ is assumed.","type":"text"}]},{"content":[{"inlineContent":[{"type":"text","text":"Any errors that occur during parameter processing"}],"type":"paragraph"}],"style":"note","type":"aside","name":"Throws"}],"kind":"content"}],"identifier":{"url":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit\/QueryBuilder\/sorted(byQueryParamsAt:convertingKeysWith:on:)","interfaceLanguage":"swift"},"variants":[{"paths":["\/documentation\/fluentextensions\/fluentkit\/querybuilder\/sorted(byqueryparamsat:convertingkeyswith:on:)"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"extendedModule":"FluentKit","symbolKind":"method","role":"symbol","title":"sorted(byQueryParamsAt:convertingKeysWith:on:)","modules":[{"relatedModules":["FluentKit"],"name":"FluentExtensions"}],"externalID":"s:9FluentKit12QueryBuilderC0A10ExtensionsE6sorted02byC8ParamsAt18convertingKeysWith2onACyxGXDSS_S2ScSg5Vapor7RequestCtKF","roleHeading":"Instance Method","conformance":{"constraints":[{"code":"Model","type":"codeVoice"},{"type":"text","text":" conforms to "},{"code":"Model","type":"codeVoice"},{"text":".","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}],"availabilityPrefix":[{"type":"text","text":"Available when"}]},"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"sorted","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"byQueryParamsAt"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"text":"convertingKeysWith","kind":"externalParam"},{"kind":"text","text":": "},{"text":"QueryParamFieldKeyConverter","kind":"typeIdentifier","preciseIdentifier":"s:16FluentExtensions27QueryParamFieldKeyConvertera"},{"kind":"text","text":"?, "},{"text":"on","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Request","kind":"typeIdentifier","preciseIdentifier":"s:5Vapor7RequestC"},{"text":") ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}]},"references":{"doc://FluentExtensions/documentation/FluentExtensions":{"title":"FluentExtensions","role":"collection","identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions","type":"topic","url":"\/documentation\/fluentextensions","kind":"symbol","abstract":[]},"doc://FluentExtensions/documentation/FluentExtensions/QueryParamFieldKeyConverter":{"type":"topic","navigatorTitle":[{"text":"QueryParamFieldKeyConverter","kind":"identifier"}],"abstract":[{"text":"A type that converts field keys from query parameters to database field keys","type":"text"}],"kind":"symbol","title":"QueryParamFieldKeyConverter","url":"\/documentation\/fluentextensions\/queryparamfieldkeyconverter","role":"symbol","identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/QueryParamFieldKeyConverter","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"QueryParamFieldKeyConverter","kind":"identifier"}]},"doc://FluentExtensions/documentation/FluentExtensions/FluentKit":{"identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit","role":"collection","type":"topic","url":"\/documentation\/fluentextensions\/fluentkit","kind":"symbol","abstract":[],"title":"FluentKit"},"doc://FluentExtensions/documentation/FluentExtensions/FluentKit/QueryBuilder/sorted(byQueryParamsAt:convertingKeysWith:on:)":{"conformance":{"constraints":[{"type":"codeVoice","code":"Model"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Model"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"sorted","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"byQueryParamsAt"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"convertingKeysWith"},{"text":": ","kind":"text"},{"text":"QueryParamFieldKeyConverter","kind":"typeIdentifier","preciseIdentifier":"s:16FluentExtensions27QueryParamFieldKeyConvertera"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"on"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:5Vapor7RequestC","kind":"typeIdentifier","text":"Request"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"Self"}],"kind":"symbol","url":"\/documentation\/fluentextensions\/fluentkit\/querybuilder\/sorted(byqueryparamsat:convertingkeyswith:on:)","title":"sorted(byQueryParamsAt:convertingKeysWith:on:)","abstract":[{"type":"text","text":"Applies sorting to the query builder based on query parameters from the request"}],"identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit\/QueryBuilder\/sorted(byQueryParamsAt:convertingKeysWith:on:)"},"doc://FluentExtensions/documentation/FluentExtensions/FluentKit/QueryBuilder":{"type":"topic","kind":"symbol","abstract":[{"text":"Extension adding pagination support to QueryBuilder","type":"text"}],"fragments":[{"kind":"keyword","text":"extension"},{"text":" ","kind":"text"},{"kind":"identifier","text":"QueryBuilder","preciseIdentifier":"s:9FluentKit12QueryBuilderC"}],"navigatorTitle":[{"kind":"identifier","text":"QueryBuilder"}],"url":"\/documentation\/fluentextensions\/fluentkit\/querybuilder","title":"QueryBuilder","identifier":"doc:\/\/FluentExtensions\/documentation\/FluentExtensions\/FluentKit\/QueryBuilder","role":"symbol"}}}